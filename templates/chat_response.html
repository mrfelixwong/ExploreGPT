{% extends "base.html" %}

{% block content %}
<div class="card">
    <h3>Your Message</h3>
    <p class="response-content">{{ user_message }}</p>
    
    <a href="/" class="btn btn-secondary" style="margin-top: 1rem;">Send Another Message</a>
</div>

<div class="card response-card {{ response.provider if response.provider }}">
    <h3>{{ response.provider|title if response.provider else "AI" }} Response</h3>
    
    {% if settings.response_settings.show_metadata %}
        <div class="response-meta">
            <strong>Provider:</strong> {{ response.provider|title if response.provider }}
            {% if response.model %}
                | <strong>Model:</strong> {{ response.model }}
            {% endif %}
            {% if response.success and response.latency %}
                | <strong>Latency:</strong> {{ response.latency }}ms
            {% endif %}
            {% if response.tokens %}
                | <strong>Tokens:</strong> {{ response.tokens.total }}
            {% endif %}
        </div>
    {% endif %}
    
    <div class="response-content">
        {{ response.response }}
    </div>
    
    {% if settings.cost_management.show_cost_estimates and response.estimated_cost %}
        <div class="cost-info">
            Estimated cost: ${{ "%.4f"|format(response.estimated_cost) }}
        </div>
    {% endif %}
    
    {% if not response.success %}
        <div class="alert alert-error" style="margin-top: 0.5rem;">
            Request failed: {{ response.response }}
        </div>
    {% endif %}
</div>
{% endblock %}